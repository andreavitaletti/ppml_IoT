APPLICATION = iotlabm3_sensors_sign

RIOTBASE ?= $(CURDIR)/../..
QUIET ?= 1

BOARD ?= iotlab-m3

FEATURES_REQUIRED = periph_i2c periph_gpio

USEMODULE += isl29020
USEMODULE += l3g4200d
USEMODULE += lps331ap
USEMODULE += lsm303dlhc
USEMODULE += xtimer

USEMODULE += hashes
USEPKG += micro-ecc

# set default device parameters in case they are undefined
TEST_ISL29020_I2C  ?= I2C_DEV\(0\)
TEST_ISL29020_ADDR ?= 68

TEST_L3G4200D_I2C  ?= I2C_DEV\(0\)
TEST_L3G4200D_ADDR ?= 104
TEST_L3G4200D_INT  ?= GPIO_PIN\(0,0\)
TEST_L3G4200D_DRDY ?= GPIO_PIN\(0,1\)

TEST_LPS331AP_I2C  ?= I2C_DEV\(0\)
TEST_LPS331AP_ADDR ?= 92

TEST_LSM303DLHC_I2C      ?= I2C_DEV\(0\)
TEST_LSM303DLHC_ACC_ADDR ?= 25
TEST_LSM303DLHC_MAG_ADDR ?= 30
TEST_LSM303DLHC_ACC_PIN  ?= GPIO_PIN\(0,0\)
TEST_LSM303DLHC_MAG_PIN  ?= GPIO_PIN\(0,1\)

# export parameters
CFLAGS += -DTEST_ISL29020_I2C=$(TEST_ISL29020_I2C)
CFLAGS += -DTEST_ISL29020_ADDR=$(TEST_ISL29020_ADDR)

CFLAGS += -DTEST_L3G4200D_I2C=$(TEST_L3G4200D_I2C)
CFLAGS += -DTEST_L3G4200D_ADDR=$(TEST_L3G4200D_ADDR)
CFLAGS += -DTEST_L3G4200D_INT=$(TEST_L3G4200D_INT)
CFLAGS += -DTEST_L3G4200D_DRDY=$(TEST_L3G4200D_DRDY)

CFLAGS += -DTEST_LPS331AP_I2C=$(TEST_LPS331AP_I2C)
CFLAGS += -DTEST_LPS331AP_ADDR=$(TEST_LPS331AP_ADDR)

CFLAGS += -DTEST_LSM303DLHC_I2C=$(TEST_LSM303DLHC_I2C)
CFLAGS += -DTEST_LSM303DLHC_ACC_ADDR=$(TEST_LSM303DLHC_ACC_ADDR)
CFLAGS += -DTEST_LSM303DLHC_MAG_ADDR=$(TEST_LSM303DLHC_MAG_ADDR)
CFLAGS += -DTEST_LSM303DLHC_ACC_PIN=$(TEST_LSM303DLHC_ACC_PIN)
CFLAGS += -DTEST_LSM303DLHC_MAG_PIN=$(TEST_LSM303DLHC_MAG_PIN)

include $(RIOTBASE)/Makefile.include
